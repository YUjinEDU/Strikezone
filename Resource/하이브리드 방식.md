---
marp: true
---

아래 표는 “**하이브리드(Detection + Tracking)**”를 포함하여, 빠른 공(야구/테니스 등)을 추적할 때 시도해 볼 수 있는 대표적인 방식들을 요약한 것입니다.  
- **열 구성**: (1) 이름/옵션, (2) 방식 개요, (3) 장점, (4) 단점  

| **방법**                           | **방식 개요**                                                                                                                                                                                                 | **장점**                                                                                                                                                       | **단점**                                                                                                                                                                                                               |
|------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **(A) 색상 기반**                 | HSV 범위 등으로 마스크 \(\rightarrow\) 컨투어로 공 위치 찾기<br/>*또는* “빨간/녹색/주황” 등 특정 색상만 필터                                                                                             | - 구현 간단, CPU 가벼움<br/>- 라이브 예제 많음<br/>- 하드웨어 요구 낮음                                                                                          | - 조명·배경 색상 따라 에러 큼<br/>- 빠른 공에 모션블러 시 HSV 흐려짐<br/>- 환경 바뀌면 파라미터 재조정                                                                                                                 |
| **(B) 배경 차분(Background Sub.)**| 고정 카메라에서 배경 모델(평균/혼합 가우시안 등)을 학습→ 새 프레임과 차분→ 움직이는 물체(공)만 추출                                                                                                           | - 색상 상관없이 “움직임”으로 공 추출<br/>- 조명만 크게 안 변하면 꽤 robust<br/>- CPU만으로도 속도 괜찮음                                                         | - 움직이는 사람이 많으면 혼동<br/>- 조명 급변, 카메라 흔들리면 오검출<br/>- 빠른 공이 블러져서 배경과 섞이면 놓칠 수 있음                                                                                                |
| **(C) 형상·허프변환(원 검출) 등**  | 전통 영상기법 (허프 원 검출 / 템플릿 매칭 / Hu 모멘트 등)<br/> “공 = 둥근 물체” 가정                                                                                                                      | - 색 무관 (회색 공이라도 가능)<br/>- 특정 형상(원형)에 대해선 단순·빠름<br/>- GPU 없이도 중간 속도 가능                                                          | - 공 회전·모션블러 시 원 형태가 깨짐<br/>- 복잡한 배경에서 다른 둥근 물체(얼굴, 조명 등) 혼동<br/>- 정면/측면 각도에 따라 검출률 저하                                                                                  |
| **(D) 전통 추적기(KCF/CSRT/MOSSE)**| “초기 위치(바운딩박스)”만 주면 텍스처 기반으로 추적<br/>OpenCV: `TrackerKCF`, `TrackerCSRT`, `TrackerMOSSE` 등                                                                                              | - 색상/형상 무관, 텍스처로 학습<br/>- CPU만으로도 높은 FPS (MOSSE 매우 빠름)<br/>- 간단히 `tracker.init(...)` 후 `tracker.update(...)`                           | - 초기 위치 수동/자동 필요<br/>- 빠른 속도/블러 시 추적 실패·드리프트<br/>- 시야 가림(occlusion) 발생 시 재초기화 필요<br/>- 배경과 패턴 유사하면 헷갈림                                                             |
| **(E) 딥러닝 검출(예: YOLO, SSD)** | 공 이미지를 사전 학습한 모델로 “공” 객체 바운딩박스 검출<br/>CPU/GPU에서 프레임마다 수행                                                                                                                    | - 배경·조명 변화에 강함<br/>- 다양한 상황에서도 robust<br/>- 여러 물체 분리 검출 가능                                                                           | - CPU만으론 느릴 수 있음(고해상도/고FPS 어렵)<br/>- 모델 준비/학습 필요<br/>- 블러 심해지면 인식률 저하 가능<br/>- 구현 복잡도↑                                                                                      |
| **(F) **하이브리드** (D+E)**       | “초기나 N프레임마다 딥러닝 검출” + “나머지 프레임은 전통 추적(KCF 등)”<br/>(*Detection + Tracking*)                                                                                                           | - 딥러닝 검출로 초기 위치 정확히 획득<br/>- 이후 빠른 전통 추적으로 CPU 부담↓<br/>- 드리프트 시 주기적 재검출로 위치 교정                                                                               | - 딥러닝 부분 여전히 CPU 부담 ↑ (하지만 매 프레임 아님)<br/>- 공이 갑자기 사라지거나 이상한 방향으로 튀면, 재검출 타이밍까지 놓칠 수도                                                                                  |
| **(G) 공에 특수 마커**             | 공 표면에 아루코 등 마커 부착→ `aruco.estimatePose...` 로 위치<br/>(*실험·연구 목적에 한정적으로 가능*)                                                                                                     | - 매우 정확한 6DOF 추적(회전까지)<br/>- 색상/배경 무관<br/>- 빠른 공에도 마커만 잘 보이면 robust                                                                 | - 실제 경기 공에 마커 못 붙임<br/>- 마커 회전해 안 보이거나 블러지면 실패<br/>- 공 표면 조작 필요, 비용·내구성 문제                                                                                                   |

---

### 설명

1. **(A) 색상 기반**  
   - 가장 간단하지만, 조명이나 배경색 변화에 매우 취약.  
2. **(B) 배경 차분**  
   - “정적인 배경 + 움직이는 공” 상황이라면 색상과 무관하게 감지 가능.  
3. **(C) 형상/허프 원**  
   - 공이 **원형**이라고 가정. 고속 블러, 각도 문제 시 검출 실패 가능.  
4. **(D) 전통 추적(KCF 등)**  
   - 초기 위치만 있으면 빠르게 추적하나, 공이 갑자기 사라지거나 모션블러 크면 드리프트 발생.  
5. **(E) 딥러닝 객체 검출**  
   - Robust하지만, CPU부담/모델 준비/환경 구축이 필요.  
6. **(F) 하이브리드**  
   - 초기(또는 간헐적) 딥러닝 → 그 사이 전통 추적.  
   - CPU만 써도 **검출 주기**를 줄이면 실시간 근접 가능. 가장 “실용적인 절충안”.  
7. **(G) 특수 마커(ArUco 등)**  
   - 연구 목적으로 “공에 마커”를 붙이면 인식 정확도↑, 하지만 현실 경기용은 힘듦.

---

## 결론

- “**하이브리드**”((F) 열)은 색상·환경 의존도를 줄이면서, CPU 부하도 전부 딥러닝으로 도는 것보다 훨씬 적게 유지할 수 있는 좋은 절충안입니다.  
- 단, **프레임레이트**, **주기적 재검출 간격** 등은 실험적으로 최적화해야 합니다.  